{"remainingRequest":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\itryl\\Desktop\\temporary\\music-player\\src\\views\\MvsDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\src\\views\\MvsDetail.vue","mtime":1619409150000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdtdicsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOaAu+adoeaVsA0KICAgICAgdG90YWw6IDIwLA0KICAgICAgLy8g6aG156CBDQogICAgICBwYWdlOiAxLA0KICAgICAgLy8g6aG15a656YePDQogICAgICBsaW1pdDogMTAsDQogICAgICAvL2125Zyw5Z2ADQogICAgICB1cmw6IiIsDQogICAgICAvL2125o6o6I2QDQogICAgICBzaW1pTXZzOltdLA0KICAgICAgLy9tduS/oeaBrw0KICAgICAgbXZJbmZvOnt9LA0KICAgICAgLy/mrYzmiYvlpLTlg48NCiAgICAgIGljb246IiIsDQogICAgICAvL+eDremXqOivhOiuug0KICAgICAgaG90Q29tbWVudHM6W10sDQogICAgICBob3RUb3RhbDowLA0KICAgICAgLy/mma7pgJror4TorrrmlbANCiAgICAgIGNvbVRvdGFsOjAsDQogICAgICBjb21tZW50czpbXQ0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKXsNCiAgICAvL+iOt+WPlm125Zyw5Z2ADQogICAgYXhpb3Moew0KICAgICAgdXJsOiJodHRwczovL2F1dHVtbmZpc2guY24vbXYvdXJsIiwNCiAgICAgIG1ldGhvZDoiZ2V0IiwNCiAgICAgIHBhcmFtczp7DQogICAgICAgIGlkOnRoaXMuJHJvdXRlLnF1ZXJ5LnENCiAgICAgIH0NCiAgICB9KS50aGVuKHJlcz0+ew0KICAgICAgdGhpcy51cmw9cmVzLmRhdGEuZGF0YS51cmwNCiAgICB9KQ0KICAgIC8v6I635Y+W55u45YWzbXYNCiAgICBheGlvcyh7DQogICAgICB1cmw6Imh0dHBzOi8vYXV0dW1uZmlzaC5jbi9zaW1pL212IiwNCiAgICAgIG1ldGhvZDoiZ2V0IiwNCiAgICAgIHBhcmFtczp7DQogICAgICAgIG12aWQ6dGhpcy4kcm91dGUucXVlcnkucQ0KICAgICAgfQ0KICAgIH0pLnRoZW4ocmVzPT57DQogICAgICB0aGlzLnNpbWlNdnM9cmVzLmRhdGEubXZzDQogICAgICBmb3IobGV0IGk9MDtpPHRoaXMuc2ltaU12cy5sZW5ndGg7aSsrKXsNCiAgICAgICAgICBpZih0aGlzLnNpbWlNdnNbaV0ucGxheUNvdW50PjEwMDAwMCl7DQogICAgICAgICAgICAgIHRoaXMuc2ltaU12c1tpXS5wbGF5Q291bnQ9cGFyc2VJbnQodGhpcy5zaW1pTXZzW2ldLnBsYXlDb3VudC8xMDAwMCkrJ+S4hycNCiAgICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgZHVyYXRpb24gPSB0aGlzLnNpbWlNdnNbaV0uZHVyYXRpb247ICANCiAgICAgICAgICBsZXQgbWluID0gcGFyc2VJbnQoZHVyYXRpb24vMTAwMC82MCk7DQogICAgICAgICAgaWYobWluPDEwKXsNCiAgICAgICAgICAgIG1pbj0nMCcrbWluDQogICAgICAgICAgfQ0KICAgICAgICAgIGxldCBzZWMgPSBwYXJzZUludChkdXJhdGlvbi8xMDAwJTYwKQ0KICAgICAgICAgIGlmKHNlYzwxMCl7DQogICAgICAgICAgICBzZWM9JzAnK3NlYw0KICAgICAgICAgIH0NCiAgICAgICAgICAvL2NvbnNvbGUubG9nKG1pbisiICIrc2VjKQ0KICAgICAgICAgIHRoaXMuc2ltaU12c1tpXS5kdXJhdGlvbj1gJHttaW59OiR7c2VjfWANCiAgICAgICAgfQ0KICAgIH0pDQogICAgLy/ojrflj5ZtduS/oeaBrw0KICAgIGF4aW9zKHsNCiAgICAgIHVybDoiaHR0cHM6Ly9hdXR1bW5maXNoLmNuL212L2RldGFpbCIsDQogICAgICBtZXRob2Q6ImdldCIsDQogICAgICBwYXJhbXM6ew0KICAgICAgICBtdmlkOnRoaXMuJHJvdXRlLnF1ZXJ5LnENCiAgICAgIH0NCiAgICB9KS50aGVuKHJlcz0+ew0KICAgICAgdGhpcy5tdkluZm89cmVzLmRhdGEuZGF0YQ0KICAgICAgLy/ojrflj5bmrYzmiYvkv6Hmga8NCiAgICAgIGF4aW9zKHsNCiAgICAgICAgdXJsOiJodHRwczovL2F1dHVtbmZpc2guY24vYXJ0aXN0cyIsDQogICAgICAgIG1ldGhvZDoiZ2V0IiwNCiAgICAgICAgcGFyYW1zOnsNCiAgICAgICAgICBpZDp0aGlzLm12SW5mby5hcnRpc3RzWzBdLmlkDQogICAgICAgIH0NCiAgICAgIH0pLnRoZW4ocmVzPT57DQogICAgICAgIHRoaXMuaWNvbj1yZXMuZGF0YS5hcnRpc3QucGljVXJsDQogICAgICB9KQ0KICAgIH0pDQogICB0aGlzLmdldGNvbW1lbnRzKCkNCg0KICB9LA0KICBtZXRob2RzOiB7DQoNCiAgICAgZ2V0TXZMaXN0KCl7DQogICAgIGF4aW9zKHsNCiAgICAgIHVybDonIGh0dHBzOi8vYXV0dW1uZmlzaC5jbi9jb21tZW50L212JywNCiAgICAgIG1ldGhvZDonZ2V0JywNCiAgICAgIHBhcmFtczp7DQogICAgICAgIGlkOnRoaXMuJHJvdXRlLnF1ZXJ5LnEsDQogICAgICAgIGxpbWl0OnRoaXMubGltaXQsDQogICAgICAgIG9mZnNldDoodGhpcy5wYWdlLTEpKnRoaXMubGltaXQNCiAgICAgIH0NCiAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgdGhpcy5ob3RDb21tZW50cz1yZXMuZGF0YS5ob3RDb21tZW50czsNCiAgICAgIHRoaXMuY29tbWVudHM9cmVzLmRhdGEuY29tbWVudHM7DQogICAgfSkNCiAgICB9LA0KICAgIC8v6K+E6K66DQogICAgZ2V0Y29tbWVudHMoKXsNCiAgICAgICAvL2126K+E6K66DQogICBheGlvcyh7DQogICAgICB1cmw6JyBodHRwczovL2F1dHVtbmZpc2guY24vY29tbWVudC9tdicsDQogICAgICBtZXRob2Q6J2dldCcsDQogICAgICBwYXJhbXM6ew0KICAgICAgICBpZDp0aGlzLiRyb3V0ZS5xdWVyeS5xLA0KICAgICAgICBsaW1pdDp0aGlzLmxpbWl0LA0KICAgICAgICBvZmZzZXQ6KHRoaXMucGFnZS0xKSp0aGlzLmxpbWl0DQogICAgICB9DQogICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgLy9jb25zb2xlLmxvZyhyZXMpOw0KICAgICAgdGhpcy5ob3RDb21tZW50cz1yZXMuZGF0YS5ob3RDb21tZW50czsNCiAgICAgIHRoaXMuaG90VG90YWw9dGhpcy5ob3RDb21tZW50cy5sZW5ndGg7DQogICAgICB0aGlzLmNvbW1lbnRzPXJlcy5kYXRhLmNvbW1lbnRzOw0KICAgICAgdGhpcy50b3RhbD1yZXMuZGF0YS50b3RhbDsNCiAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5ob3RDb21tZW50cy5sZW5ndGg7aSsrKXsNCiAgICAgICAgICB2YXIgdW5peFRpbWVzdGFtcCA9IG5ldyBEYXRlKHRoaXMuaG90Q29tbWVudHNbaV0udGltZSkgOw0KICAgICAgICAgIC8v6YeN6L295pa55rOVDQogICAgICAgICAgRGF0ZS5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmcgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmhvdXIgPSB0aGlzLmdldEhvdXJzKCkgPCAxMCA/ICIwIiArIHRoaXMuZ2V0SG91cnMoKSA6IHRoaXMuZ2V0SG91cnMoKTsNCiAgICAgICAgICAgICAgICB0aGlzLm1pbnV0ZSA9IHRoaXMuZ2V0TWludXRlcygpIDwgMTAgPyAiMCIgKyB0aGlzLmdldE1pbnV0ZXMoKSA6IHRoaXMuZ2V0TWludXRlcygpOw0KICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kID0gdGhpcy5nZXRTZWNvbmRzKCkgPCAxMCA/ICIwIiArIHRoaXMuZ2V0U2Vjb25kcygpIDogdGhpcy5nZXRTZWNvbmRzKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnVsbFllYXIoKSArICIvIiArICh0aGlzLmdldE1vbnRoKCkgKyAxKSArICIvIiArIHRoaXMuZ2V0RGF0ZSgpICsgIi8gIiArIHRoaXMuaG91ciAgKyAiOiIgKyB0aGlzLm1pbnV0ZSArICI6IiArIHRoaXMuc2Vjb25kOw0KICAgICAgICAgIH07DQogICAgICAgICAgdGhpcy5ob3RDb21tZW50c1tpXS50aW1lID0gdW5peFRpbWVzdGFtcC50b0xvY2FsZVN0cmluZygpOw0KICAgICAgICB9DQogICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuY29tbWVudHMubGVuZ3RoO2krKyl7DQogICAgICAgICAgdmFyIHVuaXhUaW1lc3RhbXAgPSBuZXcgRGF0ZSh0aGlzLmNvbW1lbnRzW2ldLnRpbWUpIDsNCiAgICAgICAgICAvL+mHjei9veaWueazlQ0KICAgICAgICAgIERhdGUucHJvdG90eXBlLnRvTG9jYWxlU3RyaW5nID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgdGhpcy5ob3VyID0gdGhpcy5nZXRIb3VycygpIDwgMTAgPyAiMCIgKyB0aGlzLmdldEhvdXJzKCkgOiB0aGlzLmdldEhvdXJzKCk7DQogICAgICAgICAgICAgICAgdGhpcy5taW51dGUgPSB0aGlzLmdldE1pbnV0ZXMoKSA8IDEwID8gIjAiICsgdGhpcy5nZXRNaW51dGVzKCkgOiB0aGlzLmdldE1pbnV0ZXMoKTsNCiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZCA9IHRoaXMuZ2V0U2Vjb25kcygpIDwgMTAgPyAiMCIgKyB0aGlzLmdldFNlY29uZHMoKSA6IHRoaXMuZ2V0U2Vjb25kcygpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZ1bGxZZWFyKCkgKyAiLyIgKyAodGhpcy5nZXRNb250aCgpICsgMSkgKyAiLyIgKyB0aGlzLmdldERhdGUoKSArICIvICIgKyB0aGlzLmhvdXIgICsgIjoiICsgdGhpcy5taW51dGUgKyAiOiIgKyB0aGlzLnNlY29uZDsNCiAgICAgICAgICB9Ow0KICAgICAgICAgIHRoaXMuY29tbWVudHNbaV0udGltZSA9IHVuaXhUaW1lc3RhbXAudG9Mb2NhbGVTdHJpbmcoKTsNCiAgICAgICAgfQ0KICAgIH0pDQogICAgfSwNCiAgICAvLyDljrttduivpuaDhemhtQ0KICAgICAgdG9NVihpZCl7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL212c2RldGFpbD9xPSR7aWR9YCkNCgkJCXRoaXMuJHJvdXRlci5nbygwKQ0KICAgICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5wYWdlPXZhbDsNCiAgICAgIHRoaXMuZ2V0TXZMaXN0KCkNCiAgICAgIHRoaXMuZ2V0Y29tbWVudHMoKQ0KICAgIH0NCiAgDQogIH0NCiAgDQp9Ow0K"},{"version":3,"sources":["MvsDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"MvsDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"mv-container\" style=\"padding-bottom:60px\">\r\n    <div class=\"mv-wrap\">\r\n      <h3 class=\"title\">mv详情</h3>\r\n      <!-- mv -->\r\n      <div class=\"video-wrap\">\r\n        <video\r\n          autoplay\r\n          controls\r\n          :src=\"url\"\r\n        ></video>\r\n      </div>\r\n      <!-- mv信息 -->\r\n      <div class=\"info-wrap\">\r\n        <div class=\"singer-info\">\r\n          <div class=\"avatar-wrap\">\r\n            <img :src=\"icon\" alt=\"\" />\r\n          </div>\r\n          <span class=\"name\">{{ mvInfo.artistName }}</span>\r\n        </div>\r\n        <div class=\"mv-info\">\r\n          <h2 class=\"title\">{{ mvInfo.name }}</h2>\r\n          <span class=\"date\">发布：{{ mvInfo.publishTime }}</span>\r\n          <span class=\"number\">播放：{{ mvInfo.playCount }}次</span>\r\n          <p class=\"desc\">\r\n           {{ mvInfo.desc }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <!-- 精彩评论 -->\r\n      <div class=\"comment-wrap\" v-if=\"hotComments!=undefined\">\r\n        <p class=\"title\">精彩评论<span class=\"number\">{{ hotTotal }}</span></p>\r\n        <div class=\"comments-wrap\">\r\n          <div class=\"item\" v-for=\"(item,index) in hotComments\" :key=\"index\">\r\n            <div class=\"icon-wrap\">\r\n              <img :src=\"item.user.avatarUrl\" alt=\"\" />\r\n            </div>\r\n            <div class=\"content-wrap\">\r\n              <div class=\"content\">\r\n                <span class=\"name\">{{item.user.nickname}}：</span>\r\n                <span class=\"comment\">{{item.content}}</span>\r\n              </div>\r\n              <!-- 评论回复 -->\r\n                <div class=\"re-content\" v-if=\"item.beReplied.length!=0\">\r\n                  <span class=\"name\">{{item.beReplied[0].user.nickname}}:</span>\r\n                  <span class=\"comment\">{{item.beReplied[0].content}}</span>\r\n                </div>\r\n              <div class=\"date\">{{item.time}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n <!-- 最新评论 -->\r\n      <div class=\"comment-wrap\">\r\n        <p class=\"title\">最新评论<span class=\"number\">({{total}})</span></p>\r\n        <div class=\"comments-wrap\">\r\n          <div class=\"item\" v-for=\"(item,index) in comments\" :key=\"index\">\r\n            <div class=\"icon-wrap\">\r\n              <img :src=\"item.user.avatarUrl\"  />\r\n            </div>\r\n            <div class=\"content-wrap\">\r\n              <div class=\"content\">\r\n                <span class=\"name\">{{item.user.nickname}}：</span>\r\n                <span class=\"comment\">{{item.content}}</span>\r\n              </div>\r\n              <!-- 评论回复 -->\r\n                <div class=\"re-content\" v-if=\"item.beReplied.length!=0\">\r\n                  <span class=\"name\">{{item.beReplied[0].user.nickname}}：</span>\r\n                  <span class=\"comment\">{{item.beReplied[0].content}}</span>\r\n                </div>\r\n              <div class=\"date\">{{item.time}}</div>\r\n            </div>\r\n          </div>\r\n        \r\n        \r\n        </div>\r\n      </div>\r\n      <!-- 分页器 -->\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        :current-page=\"page\"\r\n        :page-size=\"5\"\r\n        :limit=\"limit\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n    <div class=\"mv-recommend\">\r\n      <h3 class=\"title\">相关推荐</h3>\r\n      <div class=\"mvs\">\r\n        <div class=\"items\">\r\n          <div v-for=\"(item,index) in simiMvs\" :key=\"index\" class=\"item\" @click=\"toMV(item.id)\" >\r\n            <div class=\"img-wrap\">\r\n              <img :src=\"item.cover\" alt=\"\" />\r\n              <span class=\"iconfont icon-play\"></span>\r\n              <div class=\"num-wrap\">\r\n                <div class=\"iconfont icon-play\"></div>\r\n                <div class=\"num\">{{ item.playCount }}</div>\r\n              </div>\r\n              <span class=\"time\">{{ item.duration }}</span>\r\n            </div>\r\n            <div class=\"info-wrap\">\r\n              <div class=\"name\">{{ item.name }}</div>\r\n              <div class=\"singer\">{{ item.artistName }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'mv',\r\n  data() {\r\n    return {\r\n      // 总条数\r\n      total: 20,\r\n      // 页码\r\n      page: 1,\r\n      // 页容量\r\n      limit: 10,\r\n      //mv地址\r\n      url:\"\",\r\n      //mv推荐\r\n      simiMvs:[],\r\n      //mv信息\r\n      mvInfo:{},\r\n      //歌手头像\r\n      icon:\"\",\r\n      //热门评论\r\n      hotComments:[],\r\n      hotTotal:0,\r\n      //普通评论数\r\n      comTotal:0,\r\n      comments:[]\r\n    };\r\n  },\r\n  created(){\r\n    //获取mv地址\r\n    axios({\r\n      url:\"https://autumnfish.cn/mv/url\",\r\n      method:\"get\",\r\n      params:{\r\n        id:this.$route.query.q\r\n      }\r\n    }).then(res=>{\r\n      this.url=res.data.data.url\r\n    })\r\n    //获取相关mv\r\n    axios({\r\n      url:\"https://autumnfish.cn/simi/mv\",\r\n      method:\"get\",\r\n      params:{\r\n        mvid:this.$route.query.q\r\n      }\r\n    }).then(res=>{\r\n      this.simiMvs=res.data.mvs\r\n      for(let i=0;i<this.simiMvs.length;i++){\r\n          if(this.simiMvs[i].playCount>100000){\r\n              this.simiMvs[i].playCount=parseInt(this.simiMvs[i].playCount/10000)+'万'\r\n            }\r\n          let duration = this.simiMvs[i].duration;  \r\n          let min = parseInt(duration/1000/60);\r\n          if(min<10){\r\n            min='0'+min\r\n          }\r\n          let sec = parseInt(duration/1000%60)\r\n          if(sec<10){\r\n            sec='0'+sec\r\n          }\r\n          //console.log(min+\" \"+sec)\r\n          this.simiMvs[i].duration=`${min}:${sec}`\r\n        }\r\n    })\r\n    //获取mv信息\r\n    axios({\r\n      url:\"https://autumnfish.cn/mv/detail\",\r\n      method:\"get\",\r\n      params:{\r\n        mvid:this.$route.query.q\r\n      }\r\n    }).then(res=>{\r\n      this.mvInfo=res.data.data\r\n      //获取歌手信息\r\n      axios({\r\n        url:\"https://autumnfish.cn/artists\",\r\n        method:\"get\",\r\n        params:{\r\n          id:this.mvInfo.artists[0].id\r\n        }\r\n      }).then(res=>{\r\n        this.icon=res.data.artist.picUrl\r\n      })\r\n    })\r\n   this.getcomments()\r\n\r\n  },\r\n  methods: {\r\n\r\n     getMvList(){\r\n     axios({\r\n      url:' https://autumnfish.cn/comment/mv',\r\n      method:'get',\r\n      params:{\r\n        id:this.$route.query.q,\r\n        limit:this.limit,\r\n        offset:(this.page-1)*this.limit\r\n      }\r\n    }).then(res => {\r\n      console.log(res);\r\n      this.hotComments=res.data.hotComments;\r\n      this.comments=res.data.comments;\r\n    })\r\n    },\r\n    //评论\r\n    getcomments(){\r\n       //mv评论\r\n   axios({\r\n      url:' https://autumnfish.cn/comment/mv',\r\n      method:'get',\r\n      params:{\r\n        id:this.$route.query.q,\r\n        limit:this.limit,\r\n        offset:(this.page-1)*this.limit\r\n      }\r\n    }).then(res => {\r\n      //console.log(res);\r\n      this.hotComments=res.data.hotComments;\r\n      this.hotTotal=this.hotComments.length;\r\n      this.comments=res.data.comments;\r\n      this.total=res.data.total;\r\n      for(let i=0;i<this.hotComments.length;i++){\r\n          var unixTimestamp = new Date(this.hotComments[i].time) ;\r\n          //重载方法\r\n          Date.prototype.toLocaleString = function() {\r\n                this.hour = this.getHours() < 10 ? \"0\" + this.getHours() : this.getHours();\r\n                this.minute = this.getMinutes() < 10 ? \"0\" + this.getMinutes() : this.getMinutes();\r\n                this.second = this.getSeconds() < 10 ? \"0\" + this.getSeconds() : this.getSeconds();\r\n                return this.getFullYear() + \"/\" + (this.getMonth() + 1) + \"/\" + this.getDate() + \"/ \" + this.hour  + \":\" + this.minute + \":\" + this.second;\r\n          };\r\n          this.hotComments[i].time = unixTimestamp.toLocaleString();\r\n        }\r\n         for(let i=0;i<this.comments.length;i++){\r\n          var unixTimestamp = new Date(this.comments[i].time) ;\r\n          //重载方法\r\n          Date.prototype.toLocaleString = function() {\r\n                this.hour = this.getHours() < 10 ? \"0\" + this.getHours() : this.getHours();\r\n                this.minute = this.getMinutes() < 10 ? \"0\" + this.getMinutes() : this.getMinutes();\r\n                this.second = this.getSeconds() < 10 ? \"0\" + this.getSeconds() : this.getSeconds();\r\n                return this.getFullYear() + \"/\" + (this.getMonth() + 1) + \"/\" + this.getDate() + \"/ \" + this.hour  + \":\" + this.minute + \":\" + this.second;\r\n          };\r\n          this.comments[i].time = unixTimestamp.toLocaleString();\r\n        }\r\n    })\r\n    },\r\n    // 去mv详情页\r\n      toMV(id){\r\n      this.$router.push(`/mvsdetail?q=${id}`)\r\n\t\t\tthis.$router.go(0)\r\n      },\r\n    handleCurrentChange(val) {\r\n      this.page=val;\r\n      this.getMvList()\r\n      this.getcomments()\r\n    }\r\n  \r\n  }\r\n  \r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}