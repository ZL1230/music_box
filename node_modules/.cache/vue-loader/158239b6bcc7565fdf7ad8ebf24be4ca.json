{"remainingRequest":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\itryl\\Desktop\\temporary\\music-player\\src\\views\\Discovery.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\src\\views\\Discovery.vue","mtime":1619264350000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOWvvOWFpSBheGlvcwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZGlzY292ZXJ5JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6L2u5pKt5Zu+CiAgICAgIGJhbm5lcnM6IFtdLAogICAgICAvLyDmjqjojZDmrYzljZUKICAgICAgbGlzdDogW10sCiAgICAgIC8vIOacgOaWsOmfs+S5kAogICAgICBzb25nczogW10sCiAgICAgIC8vIOaOqOiNkG12CiAgICAgIG12czpbXQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIOi9ruaSreWbvuaOpeWPowogICAgYXhpb3MoewogICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vYmFubmVyJywKICAgICAgbWV0aG9kOiAnZ2V0JwogICAgfSkudGhlbihyZXMgPT4gewogICAgICB0aGlzLmJhbm5lcnMgPSByZXMuZGF0YS5iYW5uZXJzLnNsaWNlKDAsIDQpCiAgICB9KQoKICAgIC8vIOaOqOiNkOatjOWNlQogICAgYXhpb3MoewogICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vcGVyc29uYWxpemVkJywKICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgcGFyYW1zOiB7CiAgICAgICAgLy8g6I635Y+W55qE5pWw5o2u6YePCiAgICAgICAgbGltaXQ6IDEwCiAgICAgIH0KICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGEucmVzdWx0CiAgICB9KQoKICAgIC8vIOacgOaWsOmfs+S5kAogICAgYXhpb3MoewogICAgICB1cmw6ICdodHRwczovL2F1dHVtbmZpc2guY24vcGVyc29uYWxpemVkL25ld3NvbmcnLAogICAgICBtZXRob2Q6ICdnZXQnCiAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMuc29uZ3MgPSByZXMuZGF0YS5yZXN1bHQKICAgIH0pCgogICAgLy8g5pyA5pawbXYKICAgIGF4aW9zKHsKICAgICAgdXJsOiAnaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3BlcnNvbmFsaXplZC9tdicsCiAgICAgIG1ldGhvZDogJ2dldCcKICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgdGhpcy5tdnMgPSByZXMuZGF0YS5yZXN1bHQKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBwbGF5TXVzaWMoaWQpIHsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJ2h0dHBzOi8vYXV0dW1uZmlzaC5jbi9zb25nL3VybCcsCiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkIC8vIGlkOmlkCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgbGV0IHVybCA9IHJlcy5kYXRhLmRhdGFbMF0udXJsCgogICAgICAgIHRoaXMuJHBhcmVudC5tdXNpY1VybCA9IHVybAogICAgICB9KQogICAgfSwKICAgICAvLyDljrttduivpuaDhemhtQogICAgdG9NVihpZCl7CiAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKGAvbXY/cT0ke2lkfWApCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbXZzP3E9JytpZCkKICAgIH0sCiAgICAvLyDljrvmrYzljZXor6bmg4XpobUKICAgIHRvUGxheWxpc3QoaWQpewogICAgICAvLyDot7PovazlubbmkLrluKbmlbDmja7ljbPlj68KICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goYC9saXN0ZGV0YWlsP3E9JHtpZH1gKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xpc3RkZXRhaWw/cT0nK2lkKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Discovery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Discovery.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"discovery-container\">\r\n  <!-- 轮播图 -->\r\n    <el-carousel class=\"\" :interval=\"4000\" type=\"card\">\r\n      <!-- 循环获取到的接口数据 -->\r\n      <el-carousel-item v-for=\"(item, index) in banners\" :key=\"index\">\r\n        <img :src=\"item.imageUrl\" alt=\"\" />\r\n      </el-carousel-item>\r\n    </el-carousel>\r\n    <!-- 推荐歌单 -->\r\n    <div class=\"recommend\">\r\n      <h3 class=\"title\">\r\n        推荐歌单\r\n      </h3>\r\n      <div class=\"items\">\r\n        <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <div class=\"desc-wrap\">\r\n              <span class=\"desc\">{{ item.copywriter }}</span>\r\n            </div>\r\n            <img :src=\"item.picUrl\" alt=\"\" />\r\n            <span class=\"iconfont icon-play\" @click=\"toPlaylist(item.id)\"></span>\r\n          </div>\r\n          <p class=\"name\">{{ item.name }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 最新音乐 -->\r\n    <div class=\"news\">\r\n      <h3 class=\"title\">\r\n        最新音乐\r\n      </h3>\r\n      <div class=\"items\">\r\n        <div class=\"item\" v-for=\"(item, index) in songs\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <!-- 封面 -->\r\n            <img :src=\"item.picUrl\" alt=\"\" />\r\n            <span @click=\"playMusic(item.id)\" class=\"iconfont icon-play\"></span>\r\n          </div>\r\n          <div class=\"song-wrap\">\r\n            <!-- 歌名 -->\r\n            <div class=\"song-name\">{{ item.name }}</div>\r\n            <!-- 歌手名 -->\r\n            <div class=\"singer\">{{ item.song.artists[0].name }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 推荐MV -->\r\n    <div class=\"mvs\">\r\n      <h3 class=\"title\">推荐MV</h3>\r\n      <div class=\"items\">\r\n        <div class=\"item\" v-for=\"(item,index) in mvs\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"item.picUrl\" alt=\"\" />\r\n            <span class=\"iconfont icon-play\"  @click=\"toMV(item.id)\"></span>\r\n            <div class=\"num-wrap\">\r\n              <div class=\"iconfont icon-play\"></div>\r\n              <!-- 播放次数 -->\r\n              <div class=\"num\">{{ item.playCount }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"info-wrap\">\r\n            <!-- mv名 -->\r\n            <div class=\"name\">{{ item.name }}</div>\r\n            <!-- 歌手名 -->\r\n            <div class=\"singer\">{{ item.artistName }}</div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  // 导入 axios\r\n  import axios from 'axios'\r\n  export default {\r\n    name: 'discovery',\r\n    data() {\r\n      return {\r\n        // 轮播图\r\n        banners: [],\r\n        // 推荐歌单\r\n        list: [],\r\n        // 最新音乐\r\n        songs: [],\r\n        // 推荐mv\r\n        mvs:[]\r\n      }\r\n    },\r\n    created() {\r\n      // 轮播图接口\r\n      axios({\r\n        url: 'https://autumnfish.cn/banner',\r\n        method: 'get'\r\n      }).then(res => {\r\n        this.banners = res.data.banners.slice(0, 4)\r\n      })\r\n\r\n      // 推荐歌单\r\n      axios({\r\n        url: 'https://autumnfish.cn/personalized',\r\n        method: 'get',\r\n        params: {\r\n          // 获取的数据量\r\n          limit: 10\r\n        }\r\n      }).then(res => {\r\n        this.list = res.data.result\r\n      })\r\n\r\n      // 最新音乐\r\n      axios({\r\n        url: 'https://autumnfish.cn/personalized/newsong',\r\n        method: 'get'\r\n      }).then(res => {\r\n        this.songs = res.data.result\r\n      })\r\n\r\n      // 最新mv\r\n      axios({\r\n        url: 'https://autumnfish.cn/personalized/mv',\r\n        method: 'get'\r\n      }).then(res => {\r\n        this.mvs = res.data.result\r\n      })\r\n    },\r\n    methods: {\r\n      playMusic(id) {\r\n        axios({\r\n          url: 'https://autumnfish.cn/song/url',\r\n          method: 'get',\r\n          params: {\r\n            id // id:id\r\n          }\r\n        }).then(res => {\r\n          let url = res.data.data[0].url\r\n\r\n          this.$parent.musicUrl = url\r\n        })\r\n      },\r\n       // 去mv详情页\r\n      toMV(id){\r\n        // this.$router.push(`/mv?q=${id}`)\r\n        this.$router.push('/mvs?q='+id)\r\n      },\r\n      // 去歌单详情页\r\n      toPlaylist(id){\r\n        // 跳转并携带数据即可\r\n        // this.$router.push(`/listdetail?q=${id}`)\r\n        this.$router.push('/listdetail?q='+id)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style></style>\r\n"]}]}