{"remainingRequest":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\itryl\\Desktop\\temporary\\music-player\\src\\views\\Mvs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\src\\views\\Mvs.vue","mtime":1619345854000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\temporary\\music-player\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdtdnMnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDmgLvmnaHmlbANCiAgICAgIHRvdGFsOiAyMCwNCiAgICAgIC8vIOmhteeggQ0KICAgICAgcGFnZTogMSwNCiAgICAgIC8vIOmhteWuuemHjw0KICAgICAgbGltaXQ6IDgsDQogICAgICAvL+WcsOWMug0KICAgICAgYXJlYToi5YWo6YOoIiwNCiAgICAgIC8v57G75Z6LDQogICAgICB0eXBlOiLlhajpg6giLA0KICAgICAgLy/mjpLluo8NCiAgICAgIG9yZGVyOiLkuIrljYfmnIDlv6siLA0KICAgICAgLy/mn6Xor6Lnu5PmnoQNCiAgICAgIGxpc3Q6W10NCiAgICB9Ow0KICB9LA0KICAvL+S+puWQrOWZqA0KICB3YXRjaDp7DQogICAgYXJlYSgpew0KICAgICAgLy/ov5Tlm57nrKzkuIDpobUNCiAgICAgIHRoaXMucGFnZT0xDQogICAgICB0aGlzLmdldExpc3QoKQ0KICAgIH0sDQogICAgdHlwZSgpew0KICAgICAgLy/ov5Tlm57nrKzkuIDpobUNCiAgICAgIHRoaXMucGFnZT0xDQogICAgICB0aGlzLmdldExpc3QoKQ0KICAgIH0sDQogICAgb3JkZXIoKXsNCiAgICAgIC8v6L+U5Zue56ys5LiA6aG1DQogICAgICB0aGlzLnBhZ2U9MQ0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKXsNCiAgICB0aGlzLmdldExpc3QoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/ojrflj5bliJfooajmlbDmja4NCiAgICBnZXRMaXN0KCl7DQogICAgICAgICAgYXhpb3Moew0KICAgICAgdXJsOiJodHRwczovL2F1dHVtbmZpc2guY24vbXYvYWxsIiwNCiAgICAgIG1ldGhvZDoiZ2V0IiwNCiAgICAgIHBhcmFtczp7DQogICAgICAgIGFyZWE6dGhpcy5hcmVhLA0KICAgICAgICB0eXBlOnRoaXMudHlwZSwNCiAgICAgICAgb3JkZXI6dGhpcy5vcmRlciwNCiAgICAgICAgLy/mlbDph48NCiAgICAgICAgbGltaXQ6dGhpcy5saW1pdCwNCiAgICAgICAgLy/lgY/np7vlgLwg5YiG6aG1IO+8iOmhteeggS0x77yJKuaVsOmHjw0KICAgICAgICBvZmZzZXQ6KHRoaXMucGFnZS0xKSp0aGlzLmxpbWl0DQoNCiAgICAgIH0NCiAgICB9KS50aGVuKHJlcz0+ew0KICAgICAgICB0aGlzLmxpc3Q9cmVzLmRhdGEuZGF0YQ0KICAgICAgICAvL+WkhOeQhuasoeaVsA0KICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMubGlzdC5sZW5ndGg7aSsrKXsNCiAgICAgICAgICBpZih0aGlzLmxpc3RbaV0ucGxheUNvdW50PjEwMDAwMCkNCiAgICAgICAgICB7DQogICAgICAgICAgICB0aGlzLmxpc3RbaV0ucGxheUNvdW50PXBhcnNlSW50KHRoaXMubGlzdFtpXS5wbGF5Q291bnQvMTAwMDApKyfkuIcnDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICB9DQogICAgICAgIC8v5L+d5a2Y5oC75p2h5pWwLOaOpeWPo+aciemXrumimA0KICAgICAgICBpZihyZXMuZGF0YS5jb3VudCkNCiAgICAgICAgdGhpcy50b3RhbD1yZXMuZGF0YS5jb3VudA0KICAgIH0pIA0KICAgIH0sDQogICAgIC8vIOWOu2126K+m5oOF6aG1DQogICAgICB0b01WKGlkKXsNCiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goYC9tdj9xPSR7aWR9YCkNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9tdnNkZXRhaWw/cT0nK2lkKQ0KICAgICAgfSwNCiAgICAvL+mhteeggeaUueWPmA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAvL2NvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApOw0KICAgICAgdGhpcy5wYWdlPXZhbA0KICAgICAgdGhpcy5nZXRMaXN0KCkgDQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["Mvs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Mvs.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"mvs-container\">\r\n    <div class=\"filter-wrap\">\r\n      <div class=\"seciton-wrap\">\r\n        <!-- 分类切换 地区 -->\r\n        <span class=\"section-type\">地区:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '全部' }\"\r\n              @click=\"area = '全部'\"\r\n            >\r\n              全部\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '内地' }\"\r\n              @click=\"area = '内地'\"\r\n            >\r\n              内地\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '港台' }\"\r\n              @click=\"area = '港台'\"\r\n            >\r\n              港台\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '欧美' }\"\r\n              @click=\"area = '欧美'\"\r\n            >\r\n              欧美\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '日本' }\"\r\n              @click=\"area = '日本'\"\r\n            >\r\n              日本\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: area == '韩国' }\"\r\n              @click=\"area = '韩国'\"\r\n            >\r\n              韩国\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"type-wrap\">\r\n        <span class=\"type-type\">类型:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '全部' }\"\r\n              @click=\"type = '全部'\"\r\n            >\r\n              全部\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '官方版' }\"\r\n              @click=\"type = '官方版'\"\r\n            >\r\n              官方版\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '原声' }\"\r\n              @click=\"type = '原声'\"\r\n            >\r\n              原声\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '现场版' }\"\r\n              @click=\"type = '现场版'\"\r\n            >\r\n              现场版\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: type == '网易出品' }\"\r\n              @click=\"type = '网易出品'\"\r\n            >\r\n              网易出品\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"order-wrap\">\r\n        <span class=\"order-type\">排序:</span>\r\n        <ul class=\"tabs-wrap\">\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: order == '上升最快' }\"\r\n              @click=\"order = '上升最快'\"\r\n            >\r\n              上升最快\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: order == '最热' }\"\r\n              @click=\"order = '最热'\"\r\n            >\r\n              最热\r\n            </span>\r\n          </li>\r\n          <li class=\"tab\">\r\n            <span\r\n              class=\"title\"\r\n              :class=\"{ active: order == '最新' }\"\r\n              @click=\"order = '最新'\"\r\n            >\r\n              最新\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <!-- mv容器 -->\r\n    <!-- 推荐MV -->\r\n    <div class=\"mvs\">\r\n      <div class=\"items\">\r\n        <div class=\"item\" v-for=\"(item,index) in list\" :key=\"index\">\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"item.cover\"  @click=\"toMV(item.id)\" alt=\"\" />\r\n            <div class=\"num-wrap\">\r\n              <div @click=\"toMV(item.id)\" class=\"iconfont icon-play\"></div>\r\n              <div class=\"num\">{{ item.playCount }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"info-wrap\">\r\n            <div class=\"name\">{{ item.name }}</div>\r\n            <div class=\"singer\">{{ item.artistName }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 分页器 -->\r\n      <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        :current-page=\"page\"\r\n        :page-size=\"5\"\r\n        :limit=\"limit\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'mvs',\r\n  data() {\r\n    return {\r\n      // 总条数\r\n      total: 20,\r\n      // 页码\r\n      page: 1,\r\n      // 页容量\r\n      limit: 8,\r\n      //地区\r\n      area:\"全部\",\r\n      //类型\r\n      type:\"全部\",\r\n      //排序\r\n      order:\"上升最快\",\r\n      //查询结构\r\n      list:[]\r\n    };\r\n  },\r\n  //侦听器\r\n  watch:{\r\n    area(){\r\n      //返回第一页\r\n      this.page=1\r\n      this.getList()\r\n    },\r\n    type(){\r\n      //返回第一页\r\n      this.page=1\r\n      this.getList()\r\n    },\r\n    order(){\r\n      //返回第一页\r\n      this.page=1\r\n      this.getList()\r\n    }\r\n  },\r\n  created(){\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    //获取列表数据\r\n    getList(){\r\n          axios({\r\n      url:\"https://autumnfish.cn/mv/all\",\r\n      method:\"get\",\r\n      params:{\r\n        area:this.area,\r\n        type:this.type,\r\n        order:this.order,\r\n        //数量\r\n        limit:this.limit,\r\n        //偏移值 分页 （页码-1）*数量\r\n        offset:(this.page-1)*this.limit\r\n\r\n      }\r\n    }).then(res=>{\r\n        this.list=res.data.data\r\n        //处理次数\r\n        for(let i=0;i<this.list.length;i++){\r\n          if(this.list[i].playCount>100000)\r\n          {\r\n            this.list[i].playCount=parseInt(this.list[i].playCount/10000)+'万'\r\n          }\r\n          \r\n        }\r\n        //保存总条数,接口有问题\r\n        if(res.data.count)\r\n        this.total=res.data.count\r\n    }) \r\n    },\r\n     // 去mv详情页\r\n      toMV(id){\r\n        // this.$router.push(`/mv?q=${id}`)\r\n        this.$router.push('/mvsdetail?q='+id)\r\n      },\r\n    //页码改变\r\n    handleCurrentChange(val) {\r\n      //console.log(`当前页: ${val}`);\r\n      this.page=val\r\n      this.getList() \r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n\r\n</style>\r\n"]}]}